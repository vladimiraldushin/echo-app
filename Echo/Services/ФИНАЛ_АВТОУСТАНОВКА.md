# üéâ –§–ò–ù–ê–õ: WebM —Å –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π FFmpeg!

## üöÄ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ WebM —Ñ–∞–π–ª–∞:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ FFmpeg
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew
3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WebM ‚Üí WAV ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞

### ‚úÖ –ù–∏–∫–∞–∫–æ–π —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –¥–µ–ª–∞–µ—Ç –ù–ò–ß–ï–ì–û** ‚Äî –≤—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üìã –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

```
–û—Ç–∫—Ä—ã—Ç WebM —Ñ–∞–π–ª
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ FFmpeg –ø–æ –ø—É—Ç—è–º:
  - /opt/homebrew/bin/ffmpeg (Apple Silicon)
  - /usr/local/bin/ffmpeg (Intel Mac)  
  - /usr/bin/ffmpeg (—Å–∏—Å—Ç–µ–º–Ω—ã–π)
    ‚Üì
FFmpeg –Ω–∞–π–¥–µ–Ω?
    ‚îú‚îÄ –î–ê ‚Üí –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
    ‚îî‚îÄ –ù–ï–¢ ‚Üí –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
         ‚Üì
    –ü—Ä–æ–≤–µ—Ä–∫–∞ Homebrew:
      - /opt/homebrew/bin/brew (Apple Silicon)
      - /usr/local/bin/brew (Intel Mac)
         ‚Üì
    Homebrew –Ω–∞–π–¥–µ–Ω?
      ‚îú‚îÄ –î–ê ‚Üí brew install ffmpeg (~1-2 –º–∏–Ω)
      ‚îÇ        ‚Üì
      ‚îÇ      ‚úÖ FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
      ‚îÇ        ‚Üì
      ‚îÇ      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
      ‚îÇ
      ‚îî‚îÄ –ù–ï–¢ ‚Üí –û—à–∏–±–∫–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
```

---

## üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:

### –ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (FFmpeg –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```
üé¨ WebM detected ‚Üí auto-converting...
‚ùå FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω!
üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew...
üç∫ Homebrew –Ω–∞–π–¥–µ–Ω: /opt/homebrew/bin/brew
üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é FFmpeg... (—ç—Ç–æ –∑–∞–π–º—ë—Ç ~1-2 –º–∏–Ω—É—Ç—ã)

==> Downloading https://ghcr.io/v2/homebrew/core/ffmpeg/...
==> Pouring ffmpeg--7.0.1.arm64_sonoma.bottle.tar.gz
==> Caveats
...
==> Summary
üç∫  /opt/homebrew/Cellar/ffmpeg/7.0.1: 336 files, 77.1MB

‚úÖ FFmpeg —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
üîÑ Converting via ffmpeg (/opt/homebrew/bin/ffmpeg)...
‚úÖ Converted to WAV! Processing...
```

**–í—Ä–µ–º—è:** ~1-2 –º–∏–Ω—É—Ç—ã (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑!)

---

### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```
üé¨ WebM detected ‚Üí auto-converting...
üîÑ Converting via ffmpeg (/opt/homebrew/bin/ffmpeg)...
‚úÖ Converted to WAV! Processing...
```

**–í—Ä–µ–º—è:** ~5-10 —Å–µ–∫—É–Ω–¥ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)

---

## ‚ùå –ï—Å–ª–∏ Homebrew –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```
‚ùå FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω!
üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew...
‚ùå Homebrew –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew: https://brew.sh

‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å FFmpeg –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

WebM —Ñ–∞–π–ª—ã —Ç—Ä–µ–±—É—é—Ç FFmpeg –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Terminal
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: brew install ffmpeg

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew: https://brew.sh
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg:
```swift
private func installFFmpegAutomatically() async throws {
    // 1. –ü–æ–∏—Å–∫ Homebrew
    let brewPaths = [
        "/opt/homebrew/bin/brew",  // Apple Silicon
        "/usr/local/bin/brew"       // Intel Mac
    ]
    
    guard let brewPath = brewPaths.first(where: { 
        FileManager.default.fileExists(atPath: $0) 
    }) else {
        throw ConversionError.ffmpegNotInstalled
    }
    
    // 2. –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
    let process = Process()
    process.executableURL = URL(fileURLWithPath: brewPath)
    process.arguments = ["install", "ffmpeg"]
    
    // 3. –ü–æ–∫–∞–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
    let pipe = Pipe()
    process.standardOutput = pipe
    process.standardError = pipe
    
    try process.run()
    process.waitUntilExit()
    
    // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
    guard process.terminationStatus == 0 else {
        throw ConversionError.exportFailed("Homebrew installation failed")
    }
}
```

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ FFmpeg:
```bash
ffmpeg -i input.webm \
    -vn \           # –¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ
    -ar 16000 \     # 16kHz
    -ac 1 \         # Mono
    -f wav \        # WAV —Ñ–æ—Ä–º–∞—Ç
    output.wav \
    -y              # –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å
```

---

## üéâ –ò—Ç–æ–≥–æ:

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
1. **–ù–∏—á–µ–≥–æ!** –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å WebM —Ñ–∞–π–ª.

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ FFmpeg
2. –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
4. –û–±—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **Homebrew** (–æ–±—ã—á–Ω–æ –µ—Å—Ç—å –Ω–∞ Mac —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

---

## üöÄ –ó–∞–ø—É—Å–∫:

```bash
‚åò + B  # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```

**–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à WebM —Ñ–∞–π–ª ‚Äî –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üî•

---

## üî• TL;DR:

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ WebM —Ñ–∞–π–ª—ã ‚Äî FFmpeg —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ!**

**–ù–∏–∫–∞–∫–æ–π –º—É–¥–Ω–∏, –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–º–∞–Ω–¥ ‚Äî –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üöÄ
