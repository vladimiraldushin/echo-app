# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û! –ê–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WebM —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

**–û—à–∏–±–∫–∞:**
```
Type 'AudioConverter.ConversionError' has no member 'webmNotSupported'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–±—ã–ª –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π case –≤ enum ConversionError

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω `case webmNotSupported`

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### 1. `AudioConverter.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ:

```swift
enum ConversionError: LocalizedError {
    case fileNotFound
    case noAudioTrack
    case exportFailed(String)
    case readFailed(String)
    case webmNotSupported  // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
    ...
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `convertViaAFConvert()`:

```swift
private func convertViaAFConvert(url: URL) async throws -> [Float] {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ afconvert
    let process = Process()
    process.executableURL = URL(fileURLWithPath: "/usr/bin/afconvert")
    ...
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω fallback –≤ `convert()`:

```swift
do {
    // –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    ...
} catch {
    // WebM fallback
    if url.pathExtension.lowercased() == "webm" {
        return try await convertViaAFConvert(url: url)
    }
    throw error
}
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
Cmd + B  # –î–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ –±–µ–∑ –æ—à–∏–±–æ–∫!
```

---

## üöÄ –¢–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –≥–æ—Ç–æ–≤–æ!

**–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à WebM —Ñ–∞–π–ª ‚Äî –∞–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ
